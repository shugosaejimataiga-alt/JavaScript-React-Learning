
## 1.基本の書き方


**状態と再描画関数**


let todos = ["散歩", "読書"];

function render() {
  const ul = document.getElementById("list");
  ul.innerHTML = ""; // ① いったん画面を空にする

  for (let todo of todos) {
    const li = document.createElement("li");
    li.textContent = todo;
    ul.appendChild(li); // ② 状態から画面を作る
  }
}


① ul を取得する（管理対象を決める）
② ul を白紙にする（信用しない）
③ 状態を1つずつ読む（todos）
④ li を作る（表示用）
⑤ ul に入れる（表示）


重要なのはこの3点だけ

1.render() は状態を読むだけ
todos を参照する
DOMを直接覚えない

2.毎回、全部描き直す
innerHTML = "" で一度リセット
差分を考えない（ここでは）

3.画面は結果
todos が変われば
render() を呼ぶだけ



**状態変更 → 再描画**


todos.push("買い物");
render();


状態を変更
そのあと 必ず render()


ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

## 2.✍️ 練習問題（Day28）

HTML に次の要素があるとします。


<ul id="list"></ul>


JavaScript で、次の状態があります。


let fruits = ["りんご", "みかん", "バナナ"];


問題
再描画関数 render() を書いてください。

条件は次の4つだけです。

id="list" の ul を取得する
ul を一度白紙にする
fruits を 1つずつ取り出す
各要素を <li> として ul に追加する

👉 for...of を使って書いてください。


function render() {
  const ul = document.getElementById("list");
  ul.innerHTML = "";

  for(let fruit of fruits) {
    const li = document.createElement("li");
    li.textContent = fruit;
    ul.appendChild(li);
  }
}


完璧です。そのまま正解です。
直す所は 1つもありません。

ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

📘 Day28：再描画関数の考え方｜振り返り


今日やったこと・学習したこと

再描画関数（render）とは何かを理解した
→ 状態（データ）をもとに、画面を毎回作り直すための関数。

**「データが本体、表示は結果」**という考えをコードで確認した
→ render の中では状態を変更せず、読むだけ。

再描画の管理単位（ルート）を決める重要性を理解した
→ 今回は ul を「支配点」とし、ul.innerHTML = "" で白紙化。

配列の状態を1つずつ取り出して表示に変換する流れを理解した
→ for...of で状態 → <li> → <ul> の関係を整理。

render() は更新処理そのものを書いた関数であり、
Day28 では「使う」のではなく「定義する日」だと理解した。


理解できた重要なポイント（核心）

再描画とは「部分的に直す」のではなく
「管理している範囲を一度白紙にして、状態から作り直す」こと。

li は結果であり不安定、
ul は再描画の基準点（常に存在する）だから取得する。

render() は自動では呼ばれない
→ 呼び出すのは人間（次の Day29）。


今日出てきた疑問と結論

❓ なぜ li ではなく ul を取得するのか
→ 再描画の責任範囲を1つに決めるため。

❓ 再描画はいつ使うのか
→ **状態が変わった「あと」**に使う。

❓ Day28 と Day29 の違いが分からなかった
→

Day28：更新処理（render）の中身を書く

Day29：状態変更 → render() を呼ぶ流れを学ぶ


Day28 の到達点（確認）

✅ 再描画関数を自分で書ける

✅ 役割を言葉で説明できる

✅ Day29 に進む準備ができた


React がやっているのは：

❌ 画面を毎回丸ごと書き換えている

⭕ 「どう変わるべきか」を計算して、必要な所だけ更新

これが 仮想DOM です。